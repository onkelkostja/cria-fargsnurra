<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="noindex,nofollow">
  <title>üé® Cria F√§rgsnurra ‚Äì Kul√∂rteori</title>
  <style>
    .cria-mixer {
      font-family:"Helvetica Neue",Arial,sans-serif;
      background:#f7f7f7;color:#222;text-align:center;
      margin:30px;
    }
    .cria-mixer h2{font-size:28px;margin-bottom:10px}
    .cria-mixer .mixer{
      max-width:720px;margin:0 auto;background:#fff;padding:24px 28px;
      border-radius:16px;box-shadow:0 6px 20px rgba(0,0,0,.12)
    }
    .cria-mixer .info-row{display:flex;justify-content:center;margin-bottom:12px}
    .cria-mixer .help-btn{
      padding:8px 14px;border:none;border-radius:999px;
      background:#4a5568;color:#fff;cursor:pointer;font-weight:600;
      box-shadow:0 1px 0 rgba(0,0,0,.08)
    }
    .cria-mixer .help-btn:hover{background:#2d3748}
    .cria-mixer .view-buttons{display:flex;gap:10px;justify-content:center;margin:12px 0 18px}
    .cria-mixer .slider-group{
      display:flex;align-items:center;justify-content:space-between;margin:12px 0;gap:12px;
    }
    .cria-mixer label{display:flex;align-items:center;font-weight:700;width:180px}
    .cria-mixer .color-box{width:24px;height:24px;border-radius:6px;margin-right:10px;border:1px solid #aaa;background:#eee}
    .cria-mixer input[type="range"]{flex:1;width:auto}
    .cria-mixer input[type="number"]{
      width:64px;margin-left:10px;text-align:center;border:1px solid #d0d5dd;border-radius:8px;padding:4px 6px
    }
    .cria-mixer #cria-result{
      width:200px;height:200px;border-radius:20px;border:1px solid #e4e7ec;margin:22px auto;
      box-shadow:inset 0 0 0 1px rgba(0,0,0,.03)
    }
    .cria-mixer button{padding:10px 16px;border:none;border-radius:10px;background:#2b6cb0;color:#fff;cursor:pointer;font-weight:600}
    .cria-mixer button:hover{background:#2c5282}
    .cria-mixer .active{background:#1e4e86}
    .cria-mixer #cria-mlControl{margin:6px 0 12px}
    .cria-mixer .hint{font-size:14px;color:#3a3a3a}
    .cria-mixer .copy-hex {
      display:inline-block;margin-left:8px;font-size:13px;color:#2b6cb0;
      cursor:pointer;text-decoration:underline;
    }
    .cria-mixer .copy-hex:hover{color:#1e4e86}
    .cria-mixer .palette{display:flex;flex-wrap:wrap;justify-content:center;margin-top:30px;gap:20px}
    .cria-mixer .swatch-card{width:130px;display:flex;flex-direction:column;align-items:center}
    .cria-mixer .swatch{width:100px;height:100px;border-radius:14px;position:relative;box-shadow:0 2px 8px rgba(0,0,0,.14)}
    .cria-mixer .delete{position:absolute;top:6px;right:8px;background:rgba(0,0,0,.55);color:#fff;border:none;border-radius:50%;width:20px;height:20px;cursor:pointer;font-size:12px;line-height:20px}
    .cria-mixer .delete:hover{background:#ef4444}
    .cria-mixer .swatch-info{width:100%;margin-top:8px;font-size:11px;color:#333}
    .cria-mixer .name-input{width:100%;font-size:12px;border:none;text-align:center;border-bottom:1px solid #e5e7eb;outline:none;padding:2px 0}
    .cria-mixer .recipe-line{margin-top:6px;font-size:11px;color:#6b7280;white-space:nowrap;text-align:center}
    .cria-mixer .help-line{font-size:12px;color:#555;margin-top:4px}
    .cria-summary{margin-top:10px}
    .cria-stack{height:10px;border-radius:999px;overflow:hidden;background:#eef2f7;
      box-shadow:inset 0 1px 2px rgba(0,0,0,.08);width:80%;margin:0 auto 10px;display:flex}
    .cria-seg{height:100%}
    .seg-c{background:#22c1ff}.seg-m{background:#ff3aa0}.seg-y{background:#ffe04d}.seg-w{background:#e5e7eb}
    .cria-chips{display:flex;gap:8px;justify-content:center;flex-wrap:wrap;margin-top:6px}
    .chip{display:inline-flex;align-items:center;gap:6px;border:1px solid #e4e7ec;border-radius:999px;
      padding:6px 10px;background:#fff;font-size:13px;color:#111827;box-shadow:0 1px 2px rgba(16,24,40,.06)}
    .chip strong{font-weight:700;min-width:34px;text-align:right}
    .dot{width:10px;height:10px;border-radius:50%}
    .dot-c{background:#22c1ff}.dot-m{background:#ff3aa0}.dot-y{background:#ffe04d;border:1px solid #e9b300}.dot-w{background:#ffffff;border:1px solid #d1d5db}
    .chip.hex{font-family:ui-monospace,SFMono-Regular,Menlo,monospace}
    .chip .tiny{width:14px;height:14px;border-radius:4px;border:1px solid #e5e7eb}
  </style>
</head>
<body>
<div class="cria-mixer">
  <div class="mixer">
    <h2>üé® Cria f√§rgblandare</h2>

    <div class="info-row">
      <button class="help-btn" id="cria-openHelp">Hur fungerar Crias f√§rgblandare?</button>
    </div>

    <p class="hint">Justera m√§ngden av varje f√§rg och se resultatet direkt (kul√∂rteori)!</p>

    <div class="view-buttons">
      <button onclick="setView('delar')" id="cria-vDelar" class="active">Visa i delar</button>
      <button onclick="setView('ml')" id="cria-vMl">Visa i ml</button>
      <button onclick="setView('procent')" id="cria-vProcent">Visa i %</button>
    </div>

    <div id="cria-mlControl" style="display:none">
      Totalt <input type="number" id="cria-totalMl" min="1" max="1000" value="100"> ml
    </div>

    <div class="slider-group" id="cria-densityRow">
      <label><div class="color-box"></div>Opacitet</label>
      <input type="range" id="cria-density" min="0.5" max="3" step="0.1" value="1.5">
      <input type="number" id="cria-densityNum" min="0.5" max="3" step="0.1" value="1.5">
    </div>
    <div class="help-line">Hur transparenta √§r dina f√§rger? L√•gt v√§rde = mer transparent. H√∂gt v√§rde = mer opak/t√§ckande.</div>

    <div class="slider-group">
      <label><div class="color-box" style="background:#22c1ff"></div>Cyan</label>
      <input type="range" id="cria-cyan" min="0" max="10" step="0.1" value="0">
      <input type="number" id="cria-cyanNum" min="0" max="10" step="0.1" value="0">
    </div>
    <div class="slider-group">
      <label><div class="color-box" style="background:#ff3aa0"></div>Magenta</label>
      <input type="range" id="cria-magenta" min="0" max="10" step="0.1" value="0">
      <input type="number" id="cria-magentaNum" min="0" max="10" step="0.1" value="0">
    </div>
    <div class="slider-group">
      <label><div class="color-box" style="background:#ffe04d"></div>Gul</label>
      <input type="range" id="cria-yellow" min="0" max="10" step="0.1" value="0">
      <input type="number" id="cria-yellowNum" min="0" max="10" step="0.1" value="0">
    </div>
    <div class="slider-group">
      <label><div class="color-box" style="background:#fff"></div>Vit</label>
      <input type="range" id="cria-white" min="0" max="10" step="0.1" value="0">
      <input type="number" id="cria-whiteNum" min="0" max="10" step="0.1" value="0">
    </div>

    <div id="cria-result"></div>
    <div class="cria-summary"><div class="cria-stack"><div class="cria-seg seg-c" id="segC"></div><div class="cria-seg seg-m" id="segM"></div><div class="cria-seg seg-y" id="segY"></div><div class="cria-seg seg-w" id="segW"></div></div><div class="cria-chips" id="cria-chips"></div></div>

    <div style="display:flex;gap:10px;justify-content:center;margin-top:14px">
      <button onclick="saveColor()">üíæ Spara f√§rg</button>
      <button onclick="downloadPalette()">‚¨áÔ∏è Ladda ner palett</button>
    </div>
  </div>

  <div class="palette" id="cria-palette"></div>
</div>

<script>
const el=id=>document.getElementById(id);
let viewMode="delar";
const cyan=el("cria-cyan"),magenta=el("cria-magenta"),yellow=el("cria-yellow"),white=el("cria-white");
const cyanNum=el("cria-cyanNum"),magentaNum=el("cria-magentaNum"),yellowNum=el("cria-yellowNum"),whiteNum=el("cria-whiteNum");
const density=el("cria-density"),densityNum=el("cria-densityNum");

[[cyan,cyanNum],[magenta,magentaNum],[yellow,yellowNum],[white,whiteNum]].forEach(([r,n])=>{
  r.addEventListener("input",()=>{n.value=r.value;update();});
  n.addEventListener("input",()=>{r.value=n.value;update();});
});
density.addEventListener("input",()=>{densityNum.value=density.value;update();});
densityNum.addEventListener("input",()=>{let v=parseFloat(densityNum.value);if(v>3)v=3;if(v<0.5)v=0.5;densityNum.value=v;density.value=v;update();});

function setView(mode){
  viewMode=mode;
  el("cria-mlControl").style.display=mode==="ml"?"block":"none";
  ["cria-vDelar","cria-vMl","cria-vProcent"].forEach(id=>el(id).classList.remove("active"));
  el("cria-v"+(mode==="delar"?"Delar":mode==="ml"?"Ml":"Procent")).classList.add("active");
  update();
}

function update(){
  const c=parseFloat(cyan.value)||0,m=parseFloat(magenta.value)||0,y=parseFloat(yellow.value)||0,w=parseFloat(white.value)||0;
  const total=c+m+y+w||1;
  let unit="delar",cVal=c,mVal=m,yVal=y,wVal=w;
  if(viewMode==="ml"){const totalMl=parseFloat(el("cria-totalMl").value)||100;cVal=(c/total*totalMl).toFixed(1);mVal=(m/total*totalMl).toFixed(1);yVal=(y/total*totalMl).toFixed(1);wVal=(w/total*totalMl).toFixed(1);unit="ml";}
  else if(viewMode==="procent"){cVal=(c/total*100).toFixed(1);mVal=(m/total*100).toFixed(1);yVal=(y/total*100).toFixed(1);wVal=(w/total*100).toFixed(1);unit="%";}
  const chips=`<span class="chip chip-c"><span class="dot dot-c"></span>C <strong>${cVal}</strong> ${unit}</span>
               <span class="chip chip-m"><span class="dot dot-m"></span>M <strong>${mVal}</strong> ${unit}</span>
               <span class="chip chip-y"><span class="dot dot-y"></span>Y <strong>${yVal}</strong> ${unit}</span>
               <span class="chip chip-w"><span class="dot dot-w"></span>V <strong>${wVal}</strong> ${unit}</span>
               <span class="chip hex"><span class="tiny" style="background:#E62348"></span>#E62348 <span class="copy-hex" onclick="navigator.clipboard.writeText('#E62348')">kopiera hexkod</span></span>`;
  el("cria-chips").innerHTML=chips;
}
update();
</script>
</body>
</html>
